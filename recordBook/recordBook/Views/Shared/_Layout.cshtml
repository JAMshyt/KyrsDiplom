<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"]</title>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<link rel="stylesheet" href="~/recordBook.styles.css" asp-append-version="true" />
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
			<div class="container-fluid">
				<a class="navbar-brand" onclick="clearLocalStorage()" asp-area="" asp-controller="Home" asp-action="Logout">заЧётка</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">

					<style>
						.nav-link.active {
							color:red;
							background-color: gray;}
					</style>

					<ul class="navbar-nav flex-grow-1">
						@if (User.IsInRole("Adm"))
						{
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="ShowStudents" asp-controller="Student">Просмотр групп</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance">Посещаемость</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams">Экзамены</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams">Рейтинги</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams">Задолженности</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams">Предстоящие экзамены</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams">Практики</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="AddStudent" asp-controller="Student">Добавить студента</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="AddSubject" asp-controller="Subject">Добавить предмет</a>
							</li>

						}
						else if (User.IsInRole("Student"))
						{
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance">Посещаемость</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams">Оценки</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams">Рейтинги</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams">Задолженности</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams">Практики</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams">Предстоящие экзамены</a>
							</li>
						}
						else if (User.IsInRole("Curator"))
						{
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="ShowStudents" asp-controller="Student">Просмотр группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance">Посещаемость группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams">Экзамены группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams">Рейтинги группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams">Задолженности группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams">Практики группы</a>
							</li>
							<li class="nav-item">
								<a class="nav-link text-dark" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams">Предстоящие экзамены группы</a>@*  &#13;&#10; - пробел *@
							</li>
						}
					</ul>


				</div>
				<a class="navbar-brand" asp-controller="Account" asp-action="AccountInfo">@ViewData["User"]</a>
			</div>
		</nav>
	</header>

	<div class="navBoard">
		<form>
			@if (User.IsInRole("Adm"))
			{

				<input type="submit" id="men1" class="sideMenu" onclick="changeClass(this)" asp-action="ShowStudents" asp-controller="Student" value="Просмотр групп">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance" value="Посещаемость">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams" value="Экзамены">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams" value="Рейтинги">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams" value="Задолженности">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams" value="Предстоящие экзамены">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams" value="Практики">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="AddStudent" asp-controller="Student" value="Добавить студента">

				<br>
				<input type="submit" id="men2" class="sideMenu" onclick="changeClass(this)" asp-action="AddSubject" asp-controller="Subject" value="Добавить предмет">

				<br>
				<label class="navLabel">&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp Навигация &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp</label>
			}
			else if (User.IsInRole("Student"))
			{

				<input type="submit" id="men1" class="sideMenu" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance" value="Посещаемость">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams" value="Оценки">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams" value="Рейтинги">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams" value="Задолженности">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams" value="Практики">

				<br>
				<input type="submit" id="men2" class="sideMenu" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams" value="Предстоящие экзамены">

				<br>
				<label class="navLabel2">&nbsp &nbsp Навигация &nbsp &nbsp</label>

			}
			else if (User.IsInRole("Curator"))
			{
				<input type="submit" id="men1" class="sideMenu" onclick="changeClass(this)" asp-action="ShowStudents" asp-controller="Student" value="Просмотр группы">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="AttendanceOfStudents" asp-controller="Attendance" value="Посещаемость группы">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="ExamsMarks" asp-controller="Exams" value="Экзамены группы">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="RatingList" asp-controller="Exams" value="Рейтинги группы">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Debt" asp-controller="Exams" value="Задолженности группы">

				<br>
				<input type="submit" class="sideMenu" onclick="changeClass(this)" asp-action="Practices" asp-controller="Exams" value="Практики">

				<br>
				<input type="submit" id="men2" class="sideMenu" onclick="changeClass(this)" asp-action="Upcoming" asp-controller="Exams" value="Предстоящие экзамены&#13;&#10;группы">

				<br>
				<label class="navLabel3">&nbsp &nbsp &nbsp &nbsp &nbsp Навигация &nbsp &nbsp &nbsp &nbsp &nbsp</label>
			}
		</form>

	</div>

	<div class="container">
		<main role="main" class="pb-3">
			@RenderBody()
		</main>
	</div>

	@* 	<footer class="border-top footer text-muted">
	<div class="container">
	&copy; 2023 - Версия:очень альфа
	</div>
	</footer> *@
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>
	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>

<script>
	function changeClass(element) {
		var navLinks = document.querySelectorAll('.nav-link');
		for (var i = 0; i < navLinks.length; i++) {
			navLinks[i].classList.remove('active');
		}
		element.classList.add('active');
		localStorage.setItem('activeTab', element.textContent);
	}

	window.onload = function () {
		var activeTab = localStorage.getItem('activeTab');
		if (activeTab) {
			var navLinks = document.querySelectorAll('.nav-link');
			for (var i = 0; i < navLinks.length; i++) {
				if (navLinks[i].textContent === activeTab) {
					navLinks[i].classList.add('active');
				}
			}
		}
	}

	function clearLocalStorage() {
		localStorage.removeItem('activeTab');
	}
</script>